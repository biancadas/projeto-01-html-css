(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7714],{8204:function(e,t,r){Promise.resolve().then(r.bind(r,94527))},55781:function(e,t,r){"use strict";r.d(t,{yh:function(){return a},xg:function(){return c},Tb:function(){return u},zC:function(){return f},Yz:function(){return x},vO:function(){return g},L_:function(){return v}});var o=r(82608),n=r(5284);async function s(e,t){let{nodeSlug:r,lessonId:o,link:s,metadata:a}=e;await (0,n._i)("/journey-nodes/".concat(r,"/answers"),{method:"POST",body:JSON.stringify({lesson_history_id:o,metadata:a,link:s}),...t})}let a=e=>(0,o.useMutation)({mutationKey:["CreateChallengeAnswer"],mutationFn:e=>s(e),...e});a.fetcher=(e,t)=>s(e,t);var l=r(50333);async function i(e,t){let{slug:r}=e;await (0,n._i)("/v2/journeys/certificates/".concat(r),{method:"POST",...t})}let c=e=>(0,o.useMutation)({mutationKey:["CreateJourneyCertificate"],mutationFn:e=>i(e),onError:()=>{l.toast.danger({title:"Emiss\xe3o de Certificado",description:"Ocorreu um erro ao emitir seu certificado. Tente novamente mais tarde!"})},...e});async function d(e,t){let{lessonId:r,...o}=e;await (0,n._i)("/progress/".concat(r),{method:"POST",body:JSON.stringify(o),...t})}c.fetcher=(e,t)=>i(e,t);let u=e=>(0,o.useMutation)({mutationKey:["CreateLessonProgress"],mutationFn:e=>d(e),...e});async function p(e,t){let{nodeSlug:r,lessonId:o,answers:s}=e,a={lesson_history_id:o,answers:s.map(e=>{let{questionId:t,optionId:r}=e;return{question_id:t,option_id:r}})};return(await (0,n._i)("/journey-nodes/".concat(r,"/answers/quiz"),{method:"POST",body:JSON.stringify(a),...t})).results}u.fetcher=(e,t)=>d(e,t);let f=e=>(0,o.useMutation)({mutationKey:["CreateQuizAnswer"],mutationFn:e=>p(e),...e});async function m(e,t){let{id:r,nodeSlug:o,lessonId:s,link:a}=e,{answer:l}=await (0,n._i)("/journey-nodes/".concat(o,"/answers/").concat(r),{method:"PUT",body:JSON.stringify({lesson_history_id:s,link:a}),...t});return{id:l.id,link:l.link,submittedAt:l.updated_at}}f.fetcher=(e,t)=>p(e,t);let x=e=>(0,o.useMutation)({mutationKey:["UpdateChallengeAnswer"],mutationFn:e=>m(e),...e});async function h(e,t){let{lessonId:r,completed:o,percentage:s=0,progressTime:a=0,meta:l}=e;await (0,n._i)("/progress/".concat(r),{method:"PUT",body:JSON.stringify({completed:o,percentage:s,progress_time:a,meta:l}),...t})}x.fetcher=(e,t)=>m(e,t);let g=e=>(0,o.useMutation)({mutationKey:["UpdateLessonProgress"],mutationFn:e=>h(e),...e});async function b(e,t){await (0,n._i)("/onboarding",{method:"PUT",body:JSON.stringify(e),...t})}g.fetcher=(e,t)=>h(e,t);let v=e=>(0,o.useMutation)({mutationKey:["UpdateOnboarding"],mutationFn:e=>b(e),...e});v.fetcher=(e,t)=>b(e,t)},94527:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return tV}});var o=r(91674),n=r(86655),s=r(79823),a=r(99e3),l=r(54603),i=r(55781),c=r(85711),d=r(7346),u=r(15576),p=r(22117),f=r(67828),m=r(9237),x=r(36922),h=r(14682),g=r(5284),b=r(63395);let v=async(e,t)=>{let{from:r,to:o}=e,n=await (0,g._i)("/v2/lessons/progress?from=".concat(r,"&to=").concat(o),t);return(0,b.s)(n)},y=(e,t)=>(0,h.useQuery)({queryKey:["GetWatchedLessonsCount",e],queryFn:()=>v(e),...t});y.getKey=e=>["GetWatchedLessonsCount",e],y.fetcher=(e,t)=>v(e,t);var j=r(80035),w=r(50333),C=r(78618),N=r(19235),k=r(10417);let S="https://app.rocketseat.com.br/cart/rocketseat-one?utm_source=platform&utm_medium=organic&utm_campaign=venda&utm_term=free_content&utm_content=banner_classroom_free_content-checkout_one",I="Quero assinar agora",z=["Conte\xfados novos todos os meses","Mentorias e Masterclass ao vivo","Muitos projetos para o seu portf\xf3lio","Comunidade exclusiva no Discord","F\xf3rum, suporte e quizes","Diversos certificados de conclus\xe3o"],E=()=>{let{user:e}=(0,d.aC)(),{data:{journey:t,currentLesson:r},track:s}=(0,N.gr)(),a=t.isFree,l=null==e?void 0:e.trialAccess,i=t.isEntryCourse,c=r.isFree,u=null==e?void 0:e.hasAccessToRocketseatOne,p=(0,n.useCallback)((e,t)=>{s("[Free Course] Classroom Banner Click",{Class:r.title,ButtonLabel:e,ButtonURL:t})},[r.title,s]);return!u&&(a||i||c||l)?(0,o.jsxs)("div",{className:"w-fit relative p-8 pt-4 rounded border border-gray-700 overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute w-full h-full top-0 left-0 z-0",children:(0,o.jsx)(C.default,{src:"/assets/journey/backgrounds/subscription.png",alt:"",fill:!0,quality:100,className:"object-cover"})}),(0,o.jsxs)("div",{className:"flex flex-col gap-8 w-full items-center z-10 relative",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,o.jsx)("div",{className:"relative w-[18.25rem] h-[4.5rem]",children:(0,o.jsx)(C.default,{src:"/assets/classroom/images/techs.png",className:"object-contain",alt:"JavaScript, HTML, CSS, React, React Native, Node.js, Java, Python, Intelig\xeancia Artificial, C#",fill:!0,quality:100})}),(0,o.jsx)("h2",{className:"mb-2 font-bold max-w-[34.29rem] lg:text-2xl",children:"Todas as forma\xe7\xf5es em uma \xfanica assinatura para uma jornada completa em programa\xe7\xe3o"}),(0,o.jsx)("p",{className:"text-sm max-w-[27.415rem]",children:"Garanta acesso imediato a todas as forma\xe7\xf5es em programa\xe7\xe3o do zero ao avan\xe7ado, conte\xfados b\xf4nus e muito mais!"})]}),(0,o.jsx)("div",{className:"grid grid-flow-row grid-cols-1 items-start gap-y-2 gap-x-8 self-stretch min-[884px]:grid-cols-2",children:z.map(e=>(0,o.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,o.jsx)(k.i,{}),e]},e))}),(0,o.jsx)("a",{href:S,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(w.Button,{size:"lg",className:"w-fit",rightIcon:(0,o.jsx)(j.ArrowUpRightIcon,{}),onClick:()=>p(I,S),children:I})})]})]}):null};var P=r(9225),O=r(29356),A=r(61753),_=r(88104),M=r(16121),T=r(21786),L=r(22515),F=r(49428),q=r(51703),R=r(10979),V=r(32315),D=r(33649),H=r(75130),K=r.n(H),G=r(73603),U=r(42104),Q=r(23414),B=r(62891),Y=r(77385),Z=Object.defineProperty,J=Object.defineProperties,X=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,et=(e,t,r)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,er=(e,t)=>{for(var r in t||(t={}))$.call(t,r)&&et(e,r,t[r]);if(W)for(var r of W(t))ee.call(t,r)&&et(e,r,t[r]);return e},eo=(e,t)=>J(e,X(t)),en=(e,t)=>{var r={};for(var o in e)$.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&W)for(var o of W(e))0>t.indexOf(o)&&ee.call(e,o)&&(r[o]=e[o]);return r},es=(e,t,r)=>new Promise((o,n)=>{var s=e=>{try{l(r.next(e))}catch(e){n(e)}},a=e=>{try{l(r.throw(e))}catch(e){n(e)}},l=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,a);l((r=r.apply(e,t)).next())});function ea(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>function(){for(var e,r=arguments.length,o=Array(r),n=0;n<r;n++)o[n]=arguments[n];return null===(e=t.current)||void 0===e?void 0:e.call(t,...o)},[])}var el=(0,n.createContext)({}),ei=e=>{let{apiUrl:t,skylabApiUrl:r,onError:s,onFeedbackSubmit:a,data:l,children:i,open:c,onOpenChange:d,popupMessage:u}=e,[p=!1,f]=function(e){let{prop:t,defaultProp:r,onChange:o=()=>{}}=e,[s,a]=function(e){let{defaultProp:t,onChange:r}=e,o=(0,n.useState)(t),[s]=o,a=(0,n.useRef)(s),l=ea(r);return(0,n.useEffect)(()=>{a.current!==s&&(l(s),a.current=s)},[s,a,l]),o}({defaultProp:r,onChange:o}),l=void 0!==t,i=l?t:s,c=ea(o);return[i,(0,n.useCallback)(e=>{if(l){let r="function"==typeof e?e(t):e;r!==t&&c(r)}else a(e)},[l,t,a,c])]}({prop:c,defaultProp:!1,onChange:d}),[m,x]=(0,n.useState)("chat"),[h,g]=(0,n.useState)(!1),[b,v]=(0,_.Xs)("@Skylab:ActiveChatId",null),[y,j]=(0,_._)("@Skylab:OnboardedChat",!1),w=(0,_.ac)("(max-width: 768px)");return(0,A.y1)("ctrl+/",()=>f(!p),[p]),(0,n.useEffect)(()=>{p&&j(!0)},[p,j]),(0,n.useEffect)(()=>{g(w)},[w]),(0,n.useEffect)(()=>{p&&h?document.body.style.overflow="hidden":document.body.style.overflow="scroll"},[h,p]),(0,o.jsx)(el.Provider,{value:{apiUrl:t,skylabApiUrl:r,open:p,setOpen:f,activeChatId:b,setActiveChatId:v,screen:m,toggleScreen:()=>x(e=>"chat"===e?"history":"chat"),fullScreen:h,toggleFullScreen:()=>{h&&"history"===m&&x("chat"),g(e=>!e)},onboarded:y,onError:s,onFeedbackSubmit:a,data:l,popupMessage:u},children:i})},ec=()=>{let e=(0,n.useContext)(el);if(!e)throw Error("useChat must be used within a ChatContext");return e};function ed(e){let{children:t}=e,[r]=(0,n.useState)(()=>new M.S({queryCache:new T.t,defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:3e5}}}));return(0,o.jsx)(L.aH,{client:r,children:t})}function eu(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){if("string"==typeof t)return t;for(var r,o="",n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r);return o}(e))&&(o&&(o+=" "),o+=t);return o}var ep=/^\[(.+)\]$/;function ef(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}var em=/\s+/;function ex(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var eh=/^\[(?:([a-z-]+):)?(.+)\]$/i,eg=/^\d+\/\d+$/,eb=new Set(["px","full","screen"]),ev=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ey=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ej=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ew(e){return ez(e)||eb.has(e)||eg.test(e)||eC(e)}function eC(e){return eT(e,"length",eL)}function eN(e){return eT(e,"size",eF)}function ek(e){return eT(e,"position",eF)}function eS(e){return eT(e,"url",eq)}function eI(e){return eT(e,"number",ez)}function ez(e){return!Number.isNaN(Number(e))}function eE(e){return e.endsWith("%")&&ez(e.slice(0,-1))}function eP(e){return eR(e)||eT(e,"number",eR)}function eO(e){return eh.test(e)}function eA(){return!0}function e_(e){return ev.test(e)}function eM(e){return eT(e,"",eV)}function eT(e,t,r){var o=eh.exec(e);return!!o&&(o[1]?o[1]===t:r(o[2]))}function eL(e){return ey.test(e)}function eF(){return!1}function eq(e){return e.startsWith("url(")}function eR(e){return Number.isInteger(Number(e))}function eV(e){return ej.test(e)}var eD=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,n,s,a=function(e){var r=t[0];return n=(o=function(e){var t,r,o,n,s,a,l,i,c,d,u;return er({cache:function(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,o=new Map;function n(n,s){r.set(n,s),++t>e&&(t=0,o=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=o.get(e))?(n(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):n(e,t)}}}(e.cacheSize),splitModifiers:(r=1===(t=e.separator||":").length,o=t[0],n=t.length,function(e){for(var s,a=[],l=0,i=0,c=0;c<e.length;c++){var d=e[c];if(0===l){if(d===o&&(r||e.slice(c,c+n)===t)){a.push(e.slice(i,c)),i=c+n;continue}if("/"===d){s=c;continue}}"["===d?l++:"]"===d&&l--}var u=0===a.length?e:e.substring(i),p=u.startsWith("!"),f=p?u.substring(1):u;return{modifiers:a,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:s&&s>i?s-i:void 0}})},(i=e.theme,c=e.prefix,d={nextPart:new Map,validators:[]},(u=Object.entries(e.classGroups),c?u.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?c+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){return[c+e[0],e[1]]})):e})]}):u).forEach(function(e){var t=e[0];(function e(t,r,o,n){t.forEach(function(t){if("string"==typeof t){(""===t?r:ef(r,t)).classGroupId=o;return}if("function"==typeof t){if(t.isThemeGetter){e(t(n),r,o,n);return}r.validators.push({validator:t,classGroupId:o});return}Object.entries(t).forEach(function(t){var s=t[0];e(t[1],ef(r,s),o,n)})})})(e[1],d,t,i)}),s=e.conflictingClassGroups,l=void 0===(a=e.conflictingClassGroupModifiers)?{}:a,{getClassGroupId:function(e){var t=e.split("-");return""===t[0]&&1!==t.length&&t.shift(),function e(t,r){if(0===t.length)return r.classGroupId;var o,n=t[0],s=r.nextPart.get(n),a=s?e(t.slice(1),s):void 0;if(a)return a;if(0!==r.validators.length){var l=t.join("-");return null==(o=r.validators.find(function(e){return(0,e.validator)(l)}))?void 0:o.classGroupId}}(t,d)||function(e){if(ep.test(e)){var t=ep.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var r=s[e]||[];return t&&l[e]?[].concat(r,l[e]):r}}))}(t.slice(1).reduce(function(e,t){return t(e)},r()))).cache.get,s=o.cache.set,a=l,l(e)};function l(e){var t,r,a,l,i,c=n(e);if(c)return c;var d=(r=(t=o).splitModifiers,a=t.getClassGroupId,l=t.getConflictingClassGroupIds,i=new Set,e.trim().split(em).map(function(e){var t=r(e),o=t.modifiers,n=t.hasImportantModifier,s=t.baseClassName,l=t.maybePostfixModifierPosition,i=a(l?s.substring(0,l):s),c=!!l;if(!i){if(!l||!(i=a(s)))return{isTailwindClass:!1,originalClassName:e};c=!1}var d=(function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t})(o).join(":");return{isTailwindClass:!0,modifierId:n?d+"!":d,classGroupId:i,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,o=e.hasPostfixModifier,n=t+r;return!i.has(n)&&(i.add(n),l(r,o).forEach(function(e){return i.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" "));return s(e,d),d}return function(){return a(eu.apply(null,arguments))}}(function(){var e=ex("colors"),t=ex("spacing"),r=ex("blur"),o=ex("brightness"),n=ex("borderColor"),s=ex("borderRadius"),a=ex("borderSpacing"),l=ex("borderWidth"),i=ex("contrast"),c=ex("grayscale"),d=ex("hueRotate"),u=ex("invert"),p=ex("gap"),f=ex("gradientColorStops"),m=ex("gradientColorStopPositions"),x=ex("inset"),h=ex("margin"),g=ex("opacity"),b=ex("padding"),v=ex("saturate"),y=ex("scale"),j=ex("sepia"),w=ex("skew"),C=ex("space"),N=ex("translate"),k=function(){return["auto","contain","none"]},S=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",eO,t]},z=function(){return[eO,t]},E=function(){return["",ew]},P=function(){return["auto",ez,eO]},O=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},A=function(){return["solid","dashed","dotted","double","none"]},_=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},T=function(){return["","0",eO]},L=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[ez,eI]},q=function(){return[ez,eO]};return{cacheSize:500,theme:{colors:[eA],spacing:[ew],blur:["none","",e_,eO],brightness:F(),borderColor:[e],borderRadius:["none","","full",e_,eO],borderSpacing:z(),borderWidth:E(),contrast:F(),grayscale:T(),hueRotate:q(),invert:T(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[eE,eC],inset:I(),margin:I(),opacity:F(),padding:z(),saturate:F(),scale:F(),sepia:T(),skew:q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",eO]}],container:["container"],columns:[{columns:[e_]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(O(),[eO])}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eP]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",eO]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",eP]}],"grid-cols":[{"grid-cols":[eA]}],"col-start-end":[{col:["auto",{span:["full",eP]},eO]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[eA]}],"row-start-end":[{row:["auto",{span:[eP]},eO]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",eO]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",eO]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",eO,t]}],"min-w":[{"min-w":["min","max","fit",eO,ew]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[e_]},e_,eO]}],h:[{h:[eO,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",eO,ew]}],"max-h":[{"max-h":[eO,t,"min","max","fit"]}],"font-size":[{text:["base",e_,eC]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eI]}],"font-family":[{font:[eA]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",eO]}],"line-clamp":[{"line-clamp":["none",ez,eI]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",eO,ew]}],"list-image":[{"list-image":["none",eO]}],"list-style-type":[{list:["none","disc","decimal",eO]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(A(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ew]}],"underline-offset":[{"underline-offset":["auto",eO,ew]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",eO]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",eO]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(O(),[ek])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(A(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:A()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(A())}],"outline-offset":[{"outline-offset":[eO,ew]}],"outline-w":[{outline:[ew]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ew]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",e_,eM]}],"shadow-color":[{shadow:[eA]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":_()}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",e_,eO]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",eO]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",eO]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",eO]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[eP,eO]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",eO]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",eO]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",eO]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ew,eI]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function eH(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return eD(function(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,o,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(o=e(t[r]))&&(n&&(n+=" "),n+=o);else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(o&&(o+=" "),o+=t);return o}(t))}var eK=(e,t,r,o)=>es(void 0,[e,t,r,o],function*(e,t,r,o){let{pageSize:n,cursor:s}=o,{chatId:a}=r,l=er({pageSize:n},s&&{cursor:s}),i=new URLSearchParams(l),c=yield fetch("".concat(e,"/chats/").concat(a,"/messages?").concat(i),{headers:{Authorization:t}}),{totalCount:d,messages:u}=yield c.json();return{totalCount:d,messages:u.reverse()}}),eG=e=>es(void 0,[e],function*(e){let t,{apiUrl:r,userToken:o,body:n,onPartialResponse:s,onLimitExceeded:a,onError:l}=e,i=yield fetch("".concat(r,"/messages"),{method:"POST",headers:{Authorization:o,"Content-type":"application/json"},body:JSON.stringify(n)});if(429===i.status){a();return}if(!i.ok){let e=(yield i.text())||"N\xe3o foi poss\xedvel buscar a resposta do chat.";throw l(e),Error(e)}if(!i.body)throw l("Ocorreu um erro ao enviar a mensagem."),Error("The response body is empty.");let c=i.body.getReader(),d=(t=new TextDecoder,function(e){return e?t.decode(e,{stream:!0}):""}),u=i.headers.get("Houston-ChatId"),p=i.headers.get("Houston-AssistantMessageId"),f="",m="",x=[],h=e=>{let t=JSON.parse(e);t.token&&(s(t.token),m+=t.token),t.source&&(x=t.source)};for(;;){let{done:e,value:t}=yield c.read();if(e)break;for(f+=d(t);;){let e=f.indexOf("\n");if(e>=0)h(f.substring(0,e)),f=f.slice(e+1);else break}}return{chatId:u,messageId:p,message:m,source:x}}),eU=(e,t,r)=>es(void 0,null,function*(){return(yield(yield fetch("".concat(e,"/chats/").concat(r.chatId),{headers:{Authorization:t}})).json()).chat}),eQ=()=>{let{activeChatId:e,apiUrl:t,data:{userToken:r}}=ec();return(0,R.a)({queryKey:["chat",e],queryFn:()=>eU(t,r,{chatId:e}),enabled:!!e})},eB=()=>(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{id:"ArrowsInSimple",children:(0,o.jsx)("path",{id:"Vector",d:"M20.031 5.03055L15.3107 9.74993H18.0004C18.1993 9.74993 18.3901 9.82895 18.5307 9.9696C18.6714 10.1103 18.7504 10.301 18.7504 10.4999C18.7504 10.6988 18.6714 10.8896 18.5307 11.0303C18.3901 11.1709 18.1993 11.2499 18.0004 11.2499H13.5004C13.3015 11.2499 13.1107 11.1709 12.9701 11.0303C12.8294 10.8896 12.7504 10.6988 12.7504 10.4999V5.99993C12.7504 5.80102 12.8294 5.61025 12.9701 5.4696C13.1107 5.32895 13.3015 5.24993 13.5004 5.24993C13.6993 5.24993 13.8901 5.32895 14.0307 5.4696C14.1714 5.61025 14.2504 5.80102 14.2504 5.99993V8.68962L18.9698 3.9693C19.1105 3.82857 19.3014 3.74951 19.5004 3.74951C19.6994 3.74951 19.8903 3.82857 20.031 3.9693C20.1718 4.11003 20.2508 4.30091 20.2508 4.49993C20.2508 4.69895 20.1718 4.88982 20.031 5.03055ZM10.5004 12.7499H6.00042C5.8015 12.7499 5.61074 12.8289 5.47009 12.9696C5.32943 13.1103 5.25042 13.301 5.25042 13.4999C5.25042 13.6988 5.32943 13.8896 5.47009 14.0303C5.61074 14.1709 5.8015 14.2499 6.00042 14.2499H8.6901L3.96979 18.9693C3.82906 19.11 3.75 19.3009 3.75 19.4999C3.75 19.699 3.82906 19.8898 3.96979 20.0306C4.11052 20.1713 4.30139 20.2503 4.50042 20.2503C4.69944 20.2503 4.89031 20.1713 5.03104 20.0306L9.75042 15.3102V17.9999C9.75042 18.1988 9.82943 18.3896 9.97009 18.5303C10.1107 18.6709 10.3015 18.7499 10.5004 18.7499C10.6993 18.7499 10.8901 18.6709 11.0307 18.5303C11.1714 18.3896 11.2504 18.1988 11.2504 17.9999V13.4999C11.2504 13.301 11.1714 13.1103 11.0307 12.9696C10.8901 12.8289 10.6993 12.7499 10.5004 12.7499Z",fill:"#C4C4CC"})})}),eY=e=>{var{children:t,tooltip:r}=e,s=en(e,["children","tooltip"]);let[a,l]=(0,n.useState)(!1);return(0,o.jsx)(V.zt,{children:(0,o.jsxs)(V.fC,{open:a,onOpenChange:l,delayDuration:0,children:[(0,o.jsx)(V.xz,{asChild:!0,children:(0,o.jsx)("button",eo(er({type:"button",className:"flex items-center border-0 bg-transparent p-1 text-2xl text-grey-200",tabIndex:-1},s),{children:t}))}),(0,o.jsxs)(V.VY,{side:"top",sideOffset:5,className:"flex cursor-default items-center gap-4 rounded bg-[#000] px-4 py-2",children:[(0,o.jsx)("span",{className:"text-sm font-bold text-grey-100",children:r}),(0,o.jsx)(V.Eh,{className:"fill-[#000]",width:16,height:8})]})]})})},eZ=e=>{let{children:t}=e,{toggleScreen:r,fullScreen:n,toggleFullScreen:s}=ec(),a=(0,_.ac)("(max-width: 768px)");return(0,o.jsxs)("header",{className:"flex items-center gap-3 p-5 sm:gap-4",children:[(0,o.jsx)(eY,{tooltip:"Ver outros chats",onClick:r,children:(0,o.jsx)(j.ListIcon,{})}),(0,o.jsx)("div",{className:"grow",children:t}),!a&&(0,o.jsx)(eY,{tooltip:n?"Diminuir chat":"Expandir chat",onClick:s,children:n?(0,o.jsx)(eB,{}):(0,o.jsx)(j.ResizeIcon,{})}),(0,o.jsx)(O.x8,{asChild:!0,children:(0,o.jsx)(eY,{tooltip:"Fechar chat",children:(0,o.jsx)(j.CloseIcon,{})})})]})},eJ=()=>(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(j.WarningIcon,{size:40,className:"text-grey-700"}),(0,o.jsx)("p",{className:"max-w-[260px] text-center leading-normal text-grey-500",children:"Ocorreu um erro ao carregar as mensagens"})]}),eX=e=>(0,o.jsx)("div",eo(er({},e),{className:eH(["relative box-border h-4 w-4",'before:box-border before:content-[""] after:box-border after:content-[""]',"before:absolute before:left-0 before:top-0 before:h-full before:w-full","before:animate-spin before:rounded-full before:border-2","after:absolute after:left-0 after:top-0 after:h-full after:w-full","after:animate-spin after:rounded-full after:border-2 after:opacity-50","before:border-grey-200 before:border-r-transparent","after:border-transparent after:border-r-grey-200"],e.className)})),eW=(0,n.forwardRef)((e,t)=>{let{onSubmit:r,submitting:s,value:a,onChange:l}=e,{fullScreen:i}=ec(),c=(0,n.useRef)(null),d=s||!a.length;return(0,n.useEffect)(()=>{"function"!=typeof t&&null!=t&&t.current&&(t.current.style.height="0px",t.current.style.height="".concat(Math.min(t.current.scrollHeight,72),"px"))},[a,t,i]),(0,o.jsx)("form",{onSubmit:r,className:"px-2 py-4",ref:c,children:(0,o.jsxs)("div",{className:eH("flex items-center gap-3 rounded border border-grey-700 p-4",!s&&"focus-within:border-rocketseat-mid"),children:[(0,o.jsx)(j.SparklesIcon,{size:24,className:eH("text-rocketseat-light",s&&"text-grey-600")}),(0,o.jsx)("textarea",{placeholder:"Fa\xe7a uma pergunta para a IA",className:"h-auto flex-1 resize-none border-0 bg-transparent p-0 text-base text-grey-100 outline-none placeholder:text-grey-400",rows:1,value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{var t;"Enter"!==e.key||e.shiftKey||(e.preventDefault(),d||null==(t=c.current)||t.requestSubmit())},ref:t}),(0,o.jsx)("button",{type:"submit",disabled:d,className:"group flex border-0 bg-transparent disabled:cursor-default",children:s?(0,o.jsx)(eX,{className:"h-5 w-5"}):(0,o.jsx)(j.SendIcon,{size:24,className:"text-rocketseat-light transition group-disabled:text-grey-600"})})]})})});eW.displayName="Form";var e$=(e,t,r)=>es(void 0,null,function*(){return(yield(yield fetch("".concat(e,"/jupiter-node/").concat(r.jupiterId),{headers:{Authorization:t}})).json()).url}),e0=e=>(0,o.jsxs)("svg",eo(er({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",children:[(0,o.jsx)("path",{fill:"#121214",d:"M40 0H0v40h40V0Z"}),(0,o.jsx)("path",{fill:"#F7F7FA",d:"M21 25.869c-5.474 4.633-9.36 4.96-11.351 2.987-1.834-1.818-.314-6.376 3.394-10.878L6 11h4.502l6.995 6.932c-4.415 4.402-6.989 9.09-5.66 10.408 1.103 1.093 4.494-.423 8.155-3.47L21 25.87ZM34 30h-4.5l-6.996-6.934c4.414-4.4 6.988-9.088 5.659-10.405-1.102-1.095-4.496.423-8.156 3.471L19 15.133c5.475-4.635 9.36-4.963 11.351-2.988 1.835 1.818.315 6.375-3.392 10.877L34 30Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h40v40H0z"})})})]})),e1=e=>{let{className:t}=e;return(0,o.jsxs)("div",{className:"flex items-center gap-2 text-rocketseat-light",children:[(0,o.jsx)(j.SparklesIcon,{size:24}),(0,o.jsx)("span",{className:eH("font-bold",t),children:"Houston"}),(0,o.jsx)("span",{className:"rounded bg-rocketseat-low px-2 py-1 text-xs font-bold",children:"BETA"})]})},e2=e=>{var{value:t,className:r}=e,s=en(e,["value","className"]);let[,a]=(0,_.m9)(),[l,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=setTimeout(()=>l&&i(!1),1500);return()=>clearTimeout(e)},[l]),(0,o.jsx)("button",eo(er({type:"button",onClick:()=>{a(t),i(!0)},className:eH("group/copybutton m-0 flex w-10 items-center justify-start gap-2 rounded bg-grey-700 p-[10px] text-grey-200",!l&&"hover:w-[92px]","overflow-hidden shadow-[4px_16px_24px_0px_rgba(0,0,0,0.25)] transition-all",r)},s),{children:l?(0,o.jsx)(j.CheckIcon,{size:20,className:"shrink-0"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.CopyIcon,{size:20,className:"shrink-0"}),(0,o.jsx)("span",{className:"text-xs font-bold opacity-0 transition group-hover/copybutton:opacity-100",children:"COPIAR"})]})}))},e5=()=>(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{id:"Vector",d:"M1.26406 12.2656L2.20156 4.76563C2.25866 4.31241 2.47925 3.89562 2.8219 3.59354C3.16455 3.29145 3.6057 3.12484 4.0625 3.125H17.5C17.8315 3.125 18.1495 3.2567 18.3839 3.49112C18.6183 3.72554 18.75 4.04348 18.75 4.375V11.25C18.75 11.5815 18.6183 11.8995 18.3839 12.1339C18.1495 12.3683 17.8315 12.5 17.5 12.5H14.1359L11.1844 18.4047C11.1324 18.5085 11.0526 18.5958 10.9538 18.6568C10.855 18.7178 10.7411 18.7501 10.625 18.75C9.7962 18.75 9.00134 18.4208 8.41529 17.8347C7.82924 17.2487 7.5 16.4538 7.5 15.625V14.375H3.125C2.85893 14.3751 2.59588 14.3186 2.35335 14.2091C2.11081 14.0997 1.89434 13.94 1.71832 13.7404C1.54229 13.5409 1.41075 13.3062 1.33243 13.0519C1.25411 12.7976 1.2308 12.5296 1.26406 12.2656ZM14.375 11.25H17.5V4.375H14.375V11.25ZM2.65625 12.9133C2.71449 12.9803 2.78654 13.0339 2.86745 13.0704C2.94836 13.107 3.03622 13.1256 3.125 13.125H8.125C8.29076 13.125 8.44973 13.1908 8.56694 13.3081C8.68415 13.4253 8.75 13.5842 8.75 13.75V15.625C8.74988 16.0585 8.89997 16.4787 9.17474 16.814C9.4495 17.1493 9.83196 17.379 10.257 17.4641L13.125 11.7273V4.375H4.0625C3.91023 4.37495 3.76318 4.43048 3.64897 4.53118C3.53475 4.63187 3.46122 4.7708 3.44219 4.92188L2.50469 12.4219C2.49298 12.5099 2.50046 12.5994 2.52662 12.6842C2.55279 12.769 2.59701 12.8472 2.65625 12.9133Z",fill:"currentColor"})}),e4=()=>(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{id:"Vector",d:"M18.2812 6.25938C18.1053 6.05994 17.8888 5.90023 17.6464 5.79086C17.4039 5.68148 17.141 5.62495 16.875 5.625H12.5V4.375C12.5 3.5462 12.1708 2.75134 11.5847 2.16529C10.9987 1.57924 10.2038 1.25 9.375 1.25C9.25889 1.24992 9.14505 1.28218 9.04625 1.34317C8.94744 1.40417 8.86758 1.49148 8.81562 1.59531L5.86406 7.5H2.5C2.16848 7.5 1.85054 7.6317 1.61612 7.86612C1.3817 8.10054 1.25 8.41848 1.25 8.75V15.625C1.25 15.9565 1.3817 16.2745 1.61612 16.5089C1.85054 16.7433 2.16848 16.875 2.5 16.875H15.9375C16.3943 16.8752 16.8354 16.7085 17.1781 16.4065C17.5208 16.1044 17.7413 15.6876 17.7984 15.2344L18.7359 7.73438C18.7692 7.47033 18.7458 7.20224 18.6674 6.94792C18.589 6.6936 18.4574 6.45888 18.2812 6.25938ZM2.5 8.75H5.625V15.625H2.5V8.75ZM17.4953 7.57812L16.5578 15.0781C16.5388 15.2292 16.4653 15.3681 16.351 15.4688C16.2368 15.5695 16.0898 15.6251 15.9375 15.625H6.875V8.27266L9.74297 2.53594C10.168 2.62101 10.5505 2.85075 10.8253 3.18605C11.1 3.52135 11.2501 3.9415 11.25 4.375V6.25C11.25 6.41576 11.3158 6.57473 11.4331 6.69194C11.5503 6.80915 11.7092 6.875 11.875 6.875H16.875C16.9637 6.87497 17.0514 6.89382 17.1322 6.93028C17.2131 6.96675 17.2852 7.02001 17.3439 7.08652C17.4026 7.15303 17.4464 7.23126 17.4725 7.31602C17.4986 7.40078 17.5064 7.49013 17.4953 7.57812Z",fill:"currentColor"})}),e3=e=>{var{value:t,feedback:r}=e,n=en(e,["value","feedback"]);return(0,o.jsx)("button",eo(er({type:"button",className:eH("flex rounded border-0 bg-transparent p-[6px] text-grey-200 transition",t===r&&"bg-rocketseat-low text-rocketseat-light"),disabled:t===r},n),{children:"positive"===t?(0,o.jsx)(e4,{}):(0,o.jsx)(e5,{})}))},e9=e=>{let{messageId:t,feedback:r,setFeedback:n,onSuccess:s}=e,{onFeedbackSubmit:a,onError:l}=ec();return(0,o.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-grey-700 p-4",children:[(0,o.jsx)("span",{className:"text-sm text-grey-200",children:"Essa resposta foi \xfatil?"}),(0,o.jsx)(e3,{value:"positive",feedback:r,onClick:()=>es(void 0,null,function*(){try{n("positive"),yield a({resource:"rocket-ai-message",score:"VERY_HAPPY",metadata:{message_id:t}}),s()}catch(e){l("Ocorreu um erro ao enviar o feedback."),n(null)}})}),(0,o.jsx)(e3,{value:"negative",feedback:r,onClick:()=>n("negative")})]})},e8=(0,n.forwardRef)((e,t)=>{let{onClose:r}=e;return(0,o.jsxs)("div",{className:"relative flex flex-col items-center rounded border-b-2 border-b-rocketseat-mid bg-grey-900 p-6 text-center",ref:t,children:[(0,o.jsx)(j.HeartIcon,{size:40,className:"mb-3 text-rocketseat-mid"}),(0,o.jsx)("h3",{className:"text-base font-bold text-grey-100",children:"Agradecemos o seu feedback!"}),(0,o.jsx)("p",{className:"text-sm text-grey-300",children:"Isso nos ajuda a melhorar a sua experi\xeancia."}),(0,o.jsx)("button",{type:"button",onClick:r,className:"absolute right-2 top-2 flex border-0 bg-transparent p-1 text-grey-200 transition hover:text-grey-100",children:(0,o.jsx)(j.CloseIcon,{size:24})})]})});e8.displayName="FeedbackSuccess";var e6=e=>{let{submitting:t,onSubmit:r}=e,[s,a]=(0,n.useState)(""),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{var e;null==(e=l.current)||e.focus()},[]),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(s)},className:"flex flex-col p-4",children:[(0,o.jsx)("p",{className:"text-base text-grey-100",children:"Por que a resposta n\xe3o foi \xfatil?"}),(0,o.jsxs)("label",{className:"mb-4 mt-2 flex flex-col gap-1 rounded border border-grey-600 p-4 pb-3 focus-within:border-rocketseat-mid",children:[(0,o.jsx)("textarea",{onChange:e=>a(e.target.value),maxLength:300,className:"h-20 resize-none border-0 bg-transparent p-0 text-base text-grey-100 placeholder:text-grey-400",placeholder:"Envie coment\xe1rios para nos ajudar a evoluir",ref:l}),(0,o.jsxs)("span",{className:"self-end text-sm text-grey-500",children:[s.length,"/",300]})]}),(0,o.jsxs)("button",{type:"submit",disabled:!s.length||t,className:"relative self-end rounded border-0 bg-rocketseat-mid px-4 py-2 text-xs font-bold uppercase  transition disabled:cursor-default disabled:opacity-70",children:[(0,o.jsx)("span",{className:eH("p-0 text-white",t&&"text-transparent"),children:"Enviar"}),t&&(0,o.jsx)(eX,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"})]})]})},e7=e=>{let{messageId:t}=e,{onError:r,onFeedbackSubmit:s}=ec(),[a,l]=(0,n.useState)(!0),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),p=(0,n.useRef)(null);return(0,n.useEffect)(()=>{var e;null==(e=p.current)||e.scrollIntoView({behavior:"smooth"})},[d]),a?(0,o.jsx)("div",{className:"overflow-hidden rounded bg-grey-900",ref:p,children:d?(0,o.jsx)(e8,{onClose:()=>l(!1)}):(0,o.jsx)(e6,{submitting:i,onSubmit:e=>es(void 0,null,function*(){try{c(!0),yield s({resource:"rocket-ai-message",score:"VERY_SAD",metadata:{message_id:t},additionalInformation:e}),u(!0)}catch(e){r("Ocorreu um erro ao enviar o feedback.")}finally{c(!1)}})})}):null},te={code:e=>{let{language:t,value:r}=e;return(0,o.jsxs)("div",{className:"group/markdown relative overflow-x-auto",children:[(0,o.jsx)(G.Z,{style:U.Z,language:t,children:r}),(0,o.jsx)(e2,{value:r,className:"absolute right-2 top-2 bg-grey-900 opacity-0 group-hover/markdown:opacity-100"})]})}},tt=e=>{let{id:t,role:r,text:s,actions:l,source:i,createdAt:c,previousCreatedAt:d,onActionClick:u,showProductHeader:p=!1}=e,{skylabApiUrl:f,data:{userAvatarUrl:m,userToken:x}}=ec(),h=(0,n.useRef)(null),{onMouseDown:g,isDragging:b}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{direction:"both"},{direction:r}=t,[o,s]=(0,n.useState)(!1),a={scrollTop:0,scrollLeft:0,mouseX:0,mouseY:0},l=t=>{if(e.current){let o=t.clientX-a.mouseX,n=t.clientY-a.mouseY;"horizontal"!==r&&(e.current.scrollTop=a.scrollTop-n),"vertical"!==r&&(e.current.scrollLeft=a.scrollLeft-o),(Math.abs(o)>5||Math.abs(n)>5)&&s(!0)}},i=()=>{e.current&&(e.current.style.cursor="grab"),setTimeout(()=>s(!1)),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i)};return{onMouseDown:t=>{e.current&&(a={scrollLeft:e.current.scrollLeft,scrollTop:e.current.scrollTop,mouseX:t.clientX,mouseY:t.clientY},e.current.style.cursor="grabbing",e.current.style.userSelect="none",document.addEventListener("mousemove",l),document.addEventListener("mouseup",i))},isDragging:o}}(h,{direction:"horizontal"}),[v,y]=(0,n.useState)(null),[j,w]=(0,n.useState)(!1),C=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e;j&&(null==(e=C.current)||e.scrollIntoView({behavior:"smooth"}))},[j]),(0,n.useEffect)(()=>{w(!1)},[v]);let N=(0,n.useMemo)(()=>!d||(0,D.Z)(new Date(c),new Date(d))>30,[c,d]),k=e=>es(void 0,null,function*(){var t;try{let r=yield e$(f,x,{jupiterId:e});r&&(null==(t=window.open(r,"_blank"))||t.focus())}catch(e){}});return(0,o.jsxs)(o.Fragment,{children:[N&&(0,o.jsx)("span",{className:"mt-auto self-center text-sm text-grey-300",children:(0,a.Z)(new Date(c),"dd/MM/yyyy HH:mm")}),"user"===r?(0,o.jsxs)("div",{className:"flex items-start gap-2",children:[(0,o.jsx)("div",{className:"h-10 w-10 shrink-0 overflow-hidden rounded border border-grey-600",children:(0,o.jsx)("img",{src:m,alt:"Avatar do usu\xe1rio",className:"block h-auto w-full object-contain"})}),(0,o.jsx)("p",{className:"overflow-hidden break-words px-3 pt-2 text-base leading-normal text-grey-100",children:s})]}):(0,o.jsxs)("div",{className:"flex items-start gap-2",children:[(0,o.jsx)("div",{className:"h-10 w-10 shrink-0 overflow-hidden rounded border border-grey-600 bg-grey-900",children:(0,o.jsx)(e0,{className:"h-auto w-full"})}),(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-3 overflow-x-auto",children:[(0,o.jsxs)("div",{className:"group relative rounded bg-grey-900",children:[(0,o.jsxs)("div",{className:"chat-markdown p-4",children:[p&&(0,o.jsx)(e1,{className:"mr-auto text-xl"}),(0,o.jsx)(K(),{renderers:te,children:s,className:"prose prose-invert leading-normal"}),!!(null!=l&&l.length)&&(0,o.jsx)("div",{className:"flex flex-col gap-2",children:l.map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>u(e),className:"rounded bg-grey-800 p-3 text-left text-xs font-medium uppercase text-grey-200 transition hover:bg-grey-700",children:e},e))}),!!(null!=i&&i.length)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-grey-300",children:"Resposta gerada a partir de:"}),(0,o.jsx)("div",{className:"flex gap-[6px] overflow-hidden py-2",ref:h,onMouseDown:g,children:i.map(e=>{let{jupiterId:t,title:r}=e;return(0,o.jsx)("button",{type:"button",className:"whitespace-nowrap rounded-full border border-grey-600 bg-transparent px-3 py-1 text-[10px] font-bold uppercase text-grey-200 transition hover:border-grey-500 hover:text-grey-100",onClick:()=>!b&&k(t),children:r},t)})})]})]}),t&&"assistant"===r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e9,{messageId:t,feedback:v,setFeedback:y,onSuccess:()=>{w(!0)}}),(0,o.jsx)(e2,{value:s,className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100"})]})]}),t&&"negative"===v&&(0,o.jsx)(e7,{messageId:t}),"positive"===v&&j&&(0,o.jsx)(e8,{onClose:()=>w(!1),ref:C})]})]})]})},tr=["D\xea um exemplo de c\xf3digo que ilustre o uso de [CONCEITO].","Como voc\xea descreveria [CONCEITO] em linguagem simples?","Quais os benef\xedcios de se utilizar o [CONCEITO]?"],to=e=>{let{onActionClick:t}=e;return(0,o.jsx)(tt,{role:"assistant",text:"\nOl\xe1, sou **Houston**, a IA da Rocketseat. Estou aqui para te ajudar nos seus estudos na Rocketseat.\n\nTenho todas as informa\xe7\xf5es que est\xe3o nas aulas.\n\nExperimente perguntar coisas como:\n",actions:tr,onActionClick:t,createdAt:new Date,showProductHeader:!0})},tn=()=>(0,o.jsxs)("div",{className:"-mx-2 flex gap-3 bg-warning-low p-3",children:[(0,o.jsx)(j.WarningIcon,{size:24,className:"shrink-0 text-warning-light"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"m-0 text-base font-bold text-grey-100",children:"Voc\xea atingiu o limite di\xe1rio de mensagens"}),(0,o.jsxs)("p",{className:"m-0 text-base text-grey-200",children:["S\xe3o permitidas at\xe9 100 mensagens por usu\xe1rio por dia. Voc\xea poder\xe1 utilizar novamente ap\xf3s 24h."," "]})]})]}),ts=e=>{var{className:t}=e,r=en(e,["className"]);return(0,o.jsx)("div",er({className:eH("animate-pulse rounded bg-grey-800",t)},r))},ta=e=>{let{amount:t=1}=e;return[...Array(t).keys()].map(e=>(0,o.jsxs)("div",{className:"flex items-start gap-2",children:[(0,o.jsx)(ts,{className:"h-10 w-10 shrink-0 overflow-hidden rounded"}),(0,o.jsx)(ts,{className:"h-24 flex-1"})]},"message-skeleton-".concat(e)))},tl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,[r,o]=(0,n.useState)("");return(0,n.useEffect)(()=>{o("");let r=0,n=setInterval(()=>{r===e.length?clearInterval(n):(o(t=>t+e[r]),r+=1)},t);return()=>clearInterval(n)},[e,t]),r},ti=e=>{let{title:t="",loading:r=!1,delayed:n=!1}=e,s=tl(t);return(0,o.jsx)("span",{className:"line-clamp-1 break-all font-bold text-grey-100",title:r?"":t,children:r?(0,o.jsx)(ts,{className:"h-4 w-full"}):n?s:t})},tc=e=>{var t,r,s,a,l,i,c;let{visible:d}=e,u=(0,L.NL)(),{open:p,screen:f,activeChatId:m,setActiveChatId:x,apiUrl:h,onError:g,data:{userToken:b,chatContext:v}}=ec(),{data:y,isLoading:j}=eQ(),w=(0,n.useRef)(null),C=(0,n.useRef)([]),N=(0,n.useRef)(null),k=(0,n.useRef)(null),[S,I]=(0,n.useState)(""),[z,E]=(0,n.useState)(""),[P,O]=(0,n.useState)(""),[A,M]=(0,n.useState)(!1),[T,R]=(0,n.useState)(!1),[V,D]=(0,n.useState)(0),{data:H,isLoading:K,isError:G,hasPreviousPage:U,fetchPreviousPage:Q,isFetchingPreviousPage:B}=(0,F.N)({queryKey:["chat-messages",m],queryFn:e=>{let{pageParam:t=null}=e;return eK(h,b,{chatId:m},{pageSize:String(10),cursor:t})},getPreviousPageParam:e=>{var t,r,o;return(null==(t=null==e?void 0:e.messages)?void 0:t.length)===10?null==(o=null==(r=null==e?void 0:e.messages)?void 0:r[0])?void 0:o.id:void 0},enabled:!!m&&d}),Y=(0,_.ac)("(max-width: 1060px)"),Z=()=>{var e;return null==(e=N.current)?void 0:e.scrollIntoView()};return(0,n.useEffect)(()=>{var e;"chat"===f&&(null==(e=k.current)||e.focus())},[f]),(0,n.useEffect)(()=>{var e;null==(e=k.current)||e.focus()},[m]),(0,n.useEffect)(()=>{var e,t,r;(null==(e=null==H?void 0:H.pages)?void 0:e.length)===1?Z():null==(r=null==(t=C.current)?void 0:t[0])||r.scrollIntoView()},[null==(t=null==H?void 0:H.pages)?void 0:t.length]),(0,n.useEffect)(()=>{p&&Z()},[p]),(0,n.useEffect)(()=>{D(0)},[m]),(0,o.jsxs)("div",{className:eH("flex max-w-full flex-1 flex-col",!d&&"hidden opacity-0",!Y&&"chat"!==f&&"w-[calc(100%_-_422px)]"),children:[(0,o.jsx)(eZ,{children:(0,o.jsx)(ti,{title:m?null==y?void 0:y.title:"Novo chat",loading:!!m&&j,delayed:1===V})}),(0,o.jsxs)("div",{className:"flex flex-1 flex-col overflow-auto px-2",children:[(0,o.jsxs)("div",{className:"flex flex-1 flex-col space-y-6 overflow-auto px-2",ref:w,children:[G&&(0,o.jsx)(eJ,{}),U&&(0,o.jsx)(q.df,{as:"div",root:w.current,onChange:e=>e&&Q()},"inview-".concat((null==(r=null==H?void 0:H.pageParams)?void 0:r.length)||1)),(B||K)&&m&&(0,o.jsx)(ta,{amount:B?1:10}),!m&&!A&&(0,o.jsx)(to,{onActionClick:e=>{var t;O(e.replace(/\[.*\]/,"")),null==(t=k.current)||t.focus();let r=-1!==e.indexOf("[")?[e.indexOf("["),e.indexOf("[")]:[e.length,e.length];setTimeout(()=>{var e,t;null==(t=null==(e=k.current)?void 0:e.setSelectionRange)||t.call(e,...r)})}}),null==(s=null==H?void 0:H.pages)?void 0:s.map((e,t)=>{var r;return null==(r=e.messages)?void 0:r.map((r,n)=>{var s,a,l,i,c,d;return(0,o.jsxs)(o.Fragment,{children:[e.messages.length===n+1&&(0,o.jsx)("div",{className:"!m-0",ref:e=>e&&(C.current[t]=e)}),(0,o.jsx)(tt,er({previousCreatedAt:(null==(a=null==(s=e.messages)?void 0:s[n-1])?void 0:a.createdAt)||(null==(d=null==(c=null==(i=null==(l=null==H?void 0:H.pages)?void 0:l[t-1])?void 0:i.messages)?void 0:c.at(-1))?void 0:d.createdAt)},r),r.id)]})})}),S&&(0,o.jsx)(tt,{role:"user",text:S,createdAt:new Date,previousCreatedAt:null==(c=null==(i=null==(l=null==(a=null==H?void 0:H.pages)?void 0:a.at(-1))?void 0:l.messages)?void 0:i.at(-1))?void 0:c.createdAt}),z&&(0,o.jsx)(tt,{role:"assistant",text:z,createdAt:new Date,previousCreatedAt:new Date}),(0,o.jsx)("div",{ref:N,className:"!m-0"})]}),T?(0,o.jsx)(tn,{}):(0,o.jsx)(eW,{onSubmit:e=>es(void 0,null,function*(){e.preventDefault(),M(!0),I(P),O(""),E(""),setTimeout(()=>Z());try{let e=yield eG({apiUrl:h,userToken:b,body:eo(er({text:P},m&&{chatId:m}),{chatContext:v}),onPartialResponse:e=>{Z(),E(t=>e?t+e:t)},onLimitExceeded:()=>R(!0),onError:g});if(e){let{message:t,chatId:r,messageId:o,source:n}=e;m||u.invalidateQueries(["history"]),x(r),u.setQueryData(["chat-messages",r],e=>({pages:((null==e?void 0:e.pages)||[]).concat([{messages:[{id:null,role:"user",text:P,createdAt:new Date,source:[]},{id:o,role:"assistant",text:t,createdAt:new Date,source:n}],totalCount:2}]),pageParams:(null==e?void 0:e.pageParams)||[]}))}D(e=>e+1)}catch(e){g("Ocorreu um erro ao enviar a mensagem.")}finally{M(!1),I(""),E(""),Z()}}),submitting:A||K&&!!m,value:P,onChange:O,ref:k})]})]})},td=(e,t,r)=>es(void 0,null,function*(){let o=new URLSearchParams(r);return yield(yield fetch("".concat(e,"/chats?").concat(o),{headers:{Authorization:t}})).json()}),tu=(e,t,r)=>es(void 0,null,function*(){if(!(yield fetch("".concat(e,"/chats/").concat(r),{method:"DELETE",headers:{Authorization:t}})).ok)throw Error();return!0}),tp=(e,t,r)=>es(void 0,null,function*(){if(!(yield fetch("".concat(e,"/chats/").concat(r.chatId,"/title"),{method:"PATCH",headers:{Authorization:t},body:JSON.stringify({title:r.title})})).ok)throw Error();return!0}),tf={lessThanXSeconds:{one:"1 s",other:"{{count}} s"},xSeconds:{one:"1 s",other:"{{count}} s"},halfAMinute:"30s",lessThanXMinutes:{one:"1 min",other:"{{count}} min"},xMinutes:{one:"1 min",other:"{{count}} min"},aboutXHours:{one:"1 h",other:"{{count}} h"},xHours:{one:"1 h",other:"{{count}} h"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"1 semana",other:"{{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"1 m\xeas",other:"{{count}} meses"},xMonths:{one:"1 m\xeas",other:"{{count}} meses"},aboutXYears:{one:"1 ano",other:"{{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"1 ano",other:"{{count}} anos"},almostXYears:{one:"1 ano",other:"{{count}} anos"}},tm=eo(er({},B.Z),{formatDistance:function(e,t,r){let o,n=tf[e];return o="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",String(t)),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"em "+o:"h\xe1 "+o:o}}),tx=e=>{var{className:t,children:r}=e,n=en(e,["className","children"]);return(0,o.jsx)("button",eo(er({type:"button",className:eH("flex items-center rounded bg-grey-800 p-2 text-grey-200 transition hover:bg-grey-700 disabled:cursor-default disabled:opacity-80",t)},n),{children:r}))},th=e=>{var{id:t,title:r,createdAt:s,active:a=!1}=e,l=en(e,["id","title","createdAt","active"]);let i=(0,L.NL)(),{apiUrl:c,data:{userToken:d},onError:u,activeChatId:p,setActiveChatId:f}=ec(),[m,x]=(0,n.useState)("default"),[h,g]=(0,n.useState)(r),[b,v]=(0,n.useState)(r),[y,w]=(0,n.useState)(!1),[C,N]=(0,n.useState)(!1),k=()=>es(void 0,null,function*(){try{w(!0),yield tp(c,d,{chatId:t,title:b}),i.invalidateQueries(["history"]),p===t&&i.invalidateQueries(["chat",t]),g(b),x("default")}catch(e){u("Ocorreu um erro ao editar a conversa")}finally{w(!1)}});return((0,n.useEffect)(()=>{v(r)},[m,r]),(0,n.useEffect)(()=>{g(r)},[r]),C)?null:"default"===m?(0,o.jsxs)("button",eo(er({type:"button",className:eH("group flex min-h-[58px] w-full items-center gap-3 rounded border bg-grey-900 p-3 text-left transition",a&&"chat-button-gradient-background",!a&&"hover:border-rocketseat-light")},l),{children:[(0,o.jsx)("span",{className:eH("line-clamp-1 break-all text-sm text-grey-100",a&&"font-bold text-white"),title:h,children:h}),(0,o.jsx)("span",{className:"ml-auto whitespace-nowrap text-xs text-grey-300",children:(0,Q.Z)(new Date(s),{locale:tm,addSuffix:!0})}),(0,o.jsxs)("div",{className:"hidden gap-2 group-hover:flex",children:[(0,o.jsx)(tx,{onClick:e=>{e.stopPropagation(),x("edit")},children:(0,o.jsx)(j.EditIcon,{size:16})}),(0,o.jsx)(tx,{onClick:e=>{e.stopPropagation(),x("delete")},children:(0,o.jsx)(j.TrashIcon,{size:16})})]}),(0,o.jsx)(j.ChevronRightIcon,{size:16,className:eH("shrink-0 text-grey-500",a&&"text-rocketseat-light")})]})):"edit"===m?(0,o.jsxs)("form",{className:eH("flex min-h-[58px] w-full !flex-row items-center gap-3 rounded border bg-grey-900 p-3 text-left",a&&"chat-button-gradient-background"),onSubmit:e=>{e.preventDefault(),b.length&&!y&&k()},children:[(0,o.jsx)("input",{type:"text",className:"h-8 rounded border border-grey-800 bg-transparent px-3 py-0 text-sm text-grey-100 focus:border-rocketseat-light",value:b,onChange:e=>v(e.target.value),autoFocus:!0}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(tx,{className:"text-rocketseat-light",type:"submit",disabled:y||!b.length,children:y?(0,o.jsx)(eX,{}):(0,o.jsx)(j.CheckIcon,{size:16})}),(0,o.jsx)(tx,{onClick:()=>x("default"),disabled:y,children:(0,o.jsx)(j.CloseIcon,{size:16})})]})]}):"delete"===m?(0,o.jsxs)("div",{className:eH("flex min-h-[58px] w-full items-center gap-3 rounded border bg-grey-900 p-3 text-left transition",a&&"chat-button-gradient-background"),children:[(0,o.jsxs)("span",{className:eH("line-clamp-1 flex-1 break-all text-sm text-grey-100",a&&"font-bold text-white"),title:h,children:["Deletar a conversa?"," ",(0,o.jsx)("span",{className:"text-xs italic text-grey-200",children:h})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(tx,{onClick:()=>es(void 0,null,function*(){try{w(!0),yield tu(c,d,t),i.invalidateQueries(["history"]),p===t&&f(null),N(!0)}catch(e){u("Ocorreu um erro ao excluir a conversa")}finally{w(!1)}}),disabled:y,children:y?(0,o.jsx)(eX,{}):(0,o.jsx)(j.CheckIcon,{className:"text-danger-light",size:16})}),(0,o.jsx)(tx,{onClick:()=>x("default"),disabled:y,children:(0,o.jsx)(j.CloseIcon,{size:16})})]})]}):void 0},tg=e=>{let{amount:t=1}=e;return(0,o.jsx)("div",{className:"flex flex-col gap-4",children:[...Array(t).keys()].map(e=>(0,o.jsx)(ts,{className:"h-[54px] w-full"},"chat-button-skeleton-".concat(e)))})},tb=()=>(0,o.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-6 text-rocketseat-low",children:[(0,o.jsx)(j.ChatbubblesIcon,{size:48}),(0,o.jsx)("p",{className:"max-w-[260px] text-center leading-normal text-grey-200",children:"Para conversar com o Houston inicie um novo chat!"})]}),tv=()=>(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(j.WarningIcon,{size:40,className:"text-grey-700"}),(0,o.jsx)("p",{className:"max-w-[260px] text-center leading-normal text-grey-500",children:"Ocorreu um erro ao carregar as conversas"})]}),ty=e=>{let{submitting:t,onSubmit:r}=e,[s,a]=(0,n.useState)("");return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(s)},children:[(0,o.jsxs)("header",{className:"flex items-center justify-between bg-[linear-gradient(90deg,#29292E_0%,rgba(41,41,46,0.20)_100%)] py-4 pl-6 pr-4 text-base font-medium text-grey-100",children:["Feedback sobre o Houston",(0,o.jsx)(Y.x8,{asChild:!0,children:(0,o.jsx)("button",{type:"button",className:"flex border-0 bg-transparent p-2 text-grey-300",children:(0,o.jsx)(j.CloseIcon,{size:24})})})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-1 p-6",children:[(0,o.jsx)("textarea",{onChange:e=>a(e.target.value),maxLength:450,className:"h-[124px] resize-none border-0 bg-transparent p-0 text-base text-grey-100 placeholder:text-grey-400",placeholder:"Digite aqui seu coment\xe1rio"}),(0,o.jsxs)("span",{className:"self-end text-sm text-grey-500",children:[450-s.length," caracteres"]})]}),!!s.length&&(0,o.jsx)("button",{type:"submit",disabled:t,className:"flex h-14 w-full items-center justify-center bg-grey-700 px-8 text-sm font-bold uppercase text-grey-100 disabled:opacity-70",children:t?(0,o.jsx)(eX,{}):"Enviar feedback"})]})},tj=()=>(0,o.jsxs)("div",{className:"flex flex-col items-center px-8 py-16",children:[(0,o.jsx)(j.HeartIcon,{size:40,className:"mb-3 text-rocketseat-mid"}),(0,o.jsx)("h3",{className:"text-base font-bold text-grey-100",children:"Agradecemos o seu feedback!"}),(0,o.jsx)("p",{className:"text-sm text-grey-300",children:"Isso nos ajuda a melhorar a sua experi\xeancia."})]}),tw=()=>{let{onError:e,onFeedbackSubmit:t}=ec(),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{i&&s(!1)},2e3);return()=>clearTimeout(e)},[i]),(0,n.useEffect)(()=>{r||c(!1)},[r]),(0,o.jsxs)(Y.fC,{open:r,onOpenChange:e=>{a||s(e)},children:[(0,o.jsx)(Y.xz,{asChild:!0,children:(0,o.jsxs)("button",{type:"button",className:"inline-flex items-center gap-2 bg-transparent text-sm font-medium text-grey-200 transition hover:text-white",children:[(0,o.jsx)(j.ChatboxEllipsesIcon,{size:16}),"Enviar feedback"]})}),(0,o.jsxs)(Y.h_,{children:[(0,o.jsx)(Y.aV,{className:"fixed left-0 top-0 z-[9998] h-screen w-screen cursor-pointer bg-grey-950/80 backdrop-blur-md"}),(0,o.jsx)(Y.VY,{className:"fixed left-1/2 top-1/2 z-[9998] w-[calc(100%_-_48px)] max-w-[420px] -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded bg-grey-800",children:i?(0,o.jsx)(tj,{}):(0,o.jsx)(ty,{submitting:a,onSubmit:r=>es(void 0,null,function*(){try{l(!0),yield t({resource:"rocket-ai",additionalInformation:r}),c(!0)}catch(t){e("Ocorreu um erro ao enviar o feedback.")}finally{l(!1)}})})})]})]})},tC=e=>{let{onNewChat:t}=e;return(0,o.jsxs)("footer",{className:"flex flex-col gap-5 p-6",children:[(0,o.jsxs)("button",{type:"button",className:"flex items-center justify-center gap-3 rounded border-0 bg-rocketseat-dark p-4 text-sm font-bold uppercase text-white transition hover:bg-rocketseat-mid",onClick:t,children:[(0,o.jsx)(j.AddIcon,{size:24}),"Novo Chat"]}),(0,o.jsxs)("div",{className:"flex items-center justify-between border-t border-grey-800 pt-3",children:[(0,o.jsx)("span",{className:"text-sm text-grey-400",children:"Vers\xe3o 1.0"}),(0,o.jsx)(tw,{})]})]})},tN=()=>(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(j.ListIcon,{size:40,className:"text-grey-700"}),(0,o.jsx)("p",{className:"max-w-[260px] text-center leading-normal text-grey-500",children:"N\xe3o foram encontradas conversas com este conte\xfado"})]}),tk=(0,n.forwardRef)((e,t)=>{var r,{onClear:n}=e,s=en(e,["onClear"]);return(0,o.jsxs)("div",{className:"flex gap-4 rounded border border-grey-700 bg-transparent p-4 focus-within:border-rocketseat-light",children:[(0,o.jsx)("input",er({type:"text",className:"placehoder:text-grey-400 h-auto flex-1 border-0 bg-transparent p-0 text-base text-grey-200",placeholder:"Buscar conversa",ref:t},s)),!!(null!=(r=s.value)&&r.length)&&(0,o.jsx)("button",{type:"button",onClick:n,className:"shrink-0 border-0 bg-transparent text-grey-500 transition hover:text-grey-300",children:(0,o.jsx)(j.CloseCircleIcon,{size:20})})]})});tk.displayName="SearchInput";var tS=e=>{var t,r;let{visible:s,chatVisible:a}=e,{apiUrl:l,data:{userToken:i},fullScreen:c,activeChatId:d,setActiveChatId:u,toggleScreen:p}=ec(),f=(0,_.ac)("(max-width: 1060px)"),[m,x]=(0,n.useState)(""),h=(0,_.Nr)(m,500),[g,b]=(0,n.useState)(!1),v=(0,n.useRef)(null),y=(0,n.useRef)(null),w=e=>{u(e),a||p()},{data:C,isLoading:N,isError:k}=eQ(),{data:S,isLoading:I,isSuccess:z,isError:E,hasNextPage:P,fetchNextPage:O,isFetchingNextPage:A}=(0,F.N)({queryKey:["history",h],queryFn:e=>{let{pageParam:t=0}=e;return td(l,i,{search:m,pageIndex:t,pageSize:String(5)})},getNextPageParam:(e,t)=>5===e.chats.length?t.length:void 0,enabled:s}),M=z&&!Number(null==(t=null==S?void 0:S.pages)?void 0:t[0].totalCount);return(0,n.useEffect)(()=>{var e;g?null==(e=v.current)||e.focus():x("")},[g]),(0,n.useEffect)(()=>{var e;null==(e=y.current)||e.scroll({top:0})},[h]),(0,o.jsxs)("div",{className:eH("flex w-full flex-col",!s&&"hidden opacity-0",c&&!f&&"w-[422px] shrink-0 border-r border-r-grey-700"),children:[c&&!f?(0,o.jsx)("div",{className:"flex h-[72px] items-center p-5",children:(0,o.jsx)(e1,{})}):(0,o.jsx)(eZ,{children:(0,o.jsx)(e1,{})}),h||!M||d?(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-6 overflow-auto px-4 pt-5",children:[d&&!k&&(0,o.jsxs)("div",{className:"px-2",children:[(0,o.jsx)("span",{className:"mb-4 block text-xs uppercase tracking-wider text-grey-400",children:"Chat ativo"}),N&&(0,o.jsx)(tg,{}),C&&(0,o.jsx)(th,{active:!0,id:C.id,title:C.title,createdAt:C.createdAt,onClick:()=>w(C.id)})]}),(h||!M)&&(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-4 overflow-auto",children:[(0,o.jsxs)("div",{className:"flex items-end justify-between px-2",children:[(0,o.jsx)("span",{className:"text-xs uppercase tracking-wider text-grey-400",children:"Seu hist\xf3rico"}),(0,o.jsx)("button",{type:"button",className:eH("border-0 bg-transparent text-grey-200 transition",g?"text-rocketseat-light":"hover:text-white"),onClick:()=>b(e=>!e),children:(0,o.jsx)(j.SearchIcon,{size:24})})]}),g&&(0,o.jsx)("div",{className:"px-2",children:(0,o.jsx)(tk,{value:m,onChange:e=>x(e.target.value),onClear:()=>{var e;x(""),null==(e=v.current)||e.focus()},ref:v})}),(0,o.jsxs)("div",{className:"flex flex-col gap-4 overflow-auto px-2",ref:y,children:[E&&(0,o.jsx)(tv,{}),M&&(0,o.jsx)(tN,{}),null==(r=null==S?void 0:S.pages)?void 0:r.map(e=>e.chats.map(e=>(0,o.jsx)(th,eo(er({},e),{onClick:()=>w(e.id)}),e.id))),(A||I)&&(0,o.jsx)(tg,{amount:5}),P&&(0,o.jsx)(q.df,{as:"div",root:y.current,onChange:e=>e&&O()})]})]})]}):(0,o.jsx)(tb,{}),(0,o.jsx)(tC,{onNewChat:()=>w(null)})]})},tI=()=>{let{screen:e,fullScreen:t}=ec(),r=(0,_.ac)("(max-width: 1060px)"),n=(0,_.ac)("(max-width: 768px)");return(0,o.jsx)("div",{className:eH("border border-grey-700 bg-grey-950 shadow-container",t?["relative bottom-6 left-1/2 h-[calc(100vh_-_48px)] w-[calc(100vw_-_48px)] max-w-[1120px] -translate-x-1/2 xl:bottom-10 xl:h-[calc(100vh_-_80px)]",n&&"bottom-0 left-0 h-screen max-h-[calc(100dvh)] w-screen translate-x-0"]:"h-[calc(100vh_-_128px)] max-h-[676px] min-h-[400px] w-[calc(100vw_-_48px)] max-w-[424px]"),children:(0,o.jsxs)("div",{className:"flex h-full",children:[(0,o.jsx)(tS,{visible:"history"===e,chatVisible:t&&!r}),(0,o.jsx)(tc,{visible:"chat"===e||t&&!r})]})})},tz=()=>{let{onboarded:e,popupMessage:t,open:r}=ec();return e&&!t||r?null:(0,o.jsxs)("div",{className:"absolute bottom-[92px] right-0 flex w-[338px] gap-2 rounded-l-[20px] rounded-tr-[20px] border border-grey-700 bg-grey-950 px-4 py-3 shadow-onboarding sm:right-0 sm:w-[330px]",children:[(0,o.jsx)(j.SparklesIcon,{size:24,className:"shrink-0 fill-rocketseat-light"}),(0,o.jsx)("p",{className:"text-sm leading-relaxed text-white sm:text-base",children:t||(0,o.jsxs)(o.Fragment,{children:["Agora voc\xea pode fazer perguntas para a"," ",(0,o.jsx)("strong",{children:"Intelig\xeancia Artificial"}),"! Clique no bot\xe3o abaixo para come\xe7ar:"]})})]})},tE=()=>{let[e,t]=(0,n.useState)(!1);return(0,o.jsx)(V.zt,{children:(0,o.jsxs)(V.fC,{delayDuration:0,open:e,onOpenChange:t,children:[(0,o.jsx)(V.xz,{asChild:!0,children:(0,o.jsx)("button",{className:"fixed bottom-6 right-6 z-10 flex h-14 w-14 items-center justify-center rounded-full border-0 bg-rocketseat-mid text-white transition hover:bg-rocketseat-light",children:(0,o.jsx)(j.SparklesIcon,{size:24})})}),(0,o.jsxs)(V.VY,{side:"left",sideOffset:5,className:"flex cursor-default items-center gap-4 rounded bg-grey-950 px-4 py-3",children:[(0,o.jsx)("span",{className:"text-sm font-bold text-grey-100",children:"Pergunte \xe0 IA"}),(0,o.jsx)("span",{className:"rounded border border-grey-700 bg-grey-900 px-2 py-1 font-mono text-xs text-grey-200",children:"Ctrl+/"}),(0,o.jsx)(V.Eh,{className:"fill-grey-950",width:16,height:8})]})]})})},tP=()=>{let{open:e,setOpen:t,fullScreen:r}=ec();return(0,o.jsxs)(O.fC,{open:e,onOpenChange:t,children:[(0,o.jsx)(O.xz,{asChild:!0,children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(tz,{}),!e&&(0,o.jsx)(tE,{})]})}),(0,o.jsx)(O.ee,{className:eH("fixed",r?"bottom-0 left-0 h-0 w-screen":"bottom-6 right-6")}),(0,o.jsx)(O.h_,{children:(0,o.jsxs)("div",{className:"relative z-[9998]",children:[r&&(0,o.jsx)(O.x8,{children:(0,o.jsx)("div",{className:"fixed left-0 top-0 h-screen w-screen bg-grey-950/80 backdrop-blur-md"})}),(0,o.jsx)(O.VY,{side:"top",align:r?"center":"end",onInteractOutside:e=>e.preventDefault(),children:(0,o.jsx)(tI,{})})]})})]})},tO=e=>(0,o.jsx)(ei,eo(er({},e),{children:(0,o.jsx)(ed,{children:(0,o.jsx)(tP,{})})})),tA=r(52698),t_=r(69379);let tM=e=>{var t;let{videoId:r,chatContext:n={}}=e,{user:s,jwtToken:a}=(0,d.aC)(),{mutateAsync:l}=(0,tA.db)();return(null==s?void 0:null===(t=s.userTeams)||void 0===t?void 0:t.find(e=>"rs-chatbot"===e.identifier))?(0,o.jsx)(tO,{apiUrl:"https://houston.rocketseat.dev/api",skylabApiUrl:"https://skylab-api.rocketseat.com.br",onError:e=>w.toast.danger({title:e}),onFeedbackSubmit:async()=>{await l({data:{atlasUserId:null==s?void 0:s.id,type:tA.Yo.Lesson,product:tA.OV.Platform,locationPath:location.pathname,metadata:{}}})},data:{userAvatarUrl:(null==s?void 0:s.avatar_url)||(0,t_.o)(null==s?void 0:s.name),userToken:"Bearer ".concat(a),resourceId:r,chatContext:n}}):null};var tT=r(96185),tL=r(31957);async function tF(e,t){let{slug:r}=e,o=await (0,g._i)("/v2/journeys/".concat(r,"/details/progress/temp"),t);return(0,b.s)(o)}let tq=(e,t)=>(0,h.useQuery)({queryKey:["GetJourneyDetailsProgressBySlug",e],queryFn:()=>tF(e),...t});tq.getKey=e=>["GetJourneyDetailsProgressBySlug",e],tq.fetcher=(e,t)=>tF(e,t),tq.queryKey="GetJourneyDetailsProgressBySlug";let tR=(0,r(76533).P)();function tV(e){var t,r;let[h,g,...b]=e.params.path,v="lesson"===g?b[0]:void 0,j=(0,f.usePlayerSelector)(e=>e.isTheaterMode),{user:w,isNewUser:C}=(0,d.aC)(),N=(0,s.useQueryClient)(),k=(0,n.useRef)(null),{data:S,isLoading:I,isError:z,error:O}=(0,u.Q)({nodeSlug:h,lessonSlug:v},{retry:!1}),{lesson:A,lessonGroups:_=[],journey:M={},journeyNode:T={},forum:L}=S||{},{data:F}=tq({slug:M.slug},{retry:!1}),q=(0,a.Z)(c.Xp,"yyyy-MM-dd"),R=(0,a.Z)(c.$B,"yyyy-MM-dd"),{data:V}=y({from:q,to:R},{enabled:tR}),{mutateAsync:D}=(0,i.zC)(),{mutateAsync:H}=(0,i.yh)(),{mutateAsync:K}=(0,i.Yz)(),{mutateAsync:G}=(0,i.Tb)(),{mutateAsync:U}=(0,i.vO)();z&&!S&&(console.log(">>>>>>",O),(0,l.notFound)());let Q=(0,n.useMemo)(()=>{if(I)return{};if(A)return A;if("challenge"===g||"lesson"===g){let[e]=b;return _[0].lessons.find(t=>t.slug===e)}if("group"===g){let[e,,t]=b,r=_.find(t=>t.slug===e);return null==r?void 0:r.lessons.find(e=>e.slug===t)}let e=(0,m.P)({lessonGroups:_});return k.current||e.find(e=>{var t;return!(null===(t=e.progress)||void 0===t?void 0:t.completed)})||e[e.length-1]},[I,A,_,b,g]),B=(0,n.useCallback)(async e=>{var t;let{id:r,metadata:o}=e;e.progress||await G({lessonId:r,meta:o}),await U({lessonId:r,completed:!(null===(t=e.progress)||void 0===t?void 0:t.completed),meta:o}),e.slug===Q.slug&&(k.current=e),await Promise.all([N.invalidateQueries({queryKey:x.M.getKey({slug:M.slug}),exact:!1}),N.invalidateQueries({queryKey:u.Q.getKey({nodeSlug:h})}),N.invalidateQueries({queryKey:tq.getKey({slug:M.slug}),exact:!1}),N.invalidateQueries({queryKey:y.getKey({from:q,to:R})})])},[G,U,Q.slug,M.slug,N,h,q,R]),Y=(0,n.useCallback)(async e=>{let t=await D({nodeSlug:h,lessonId:e.identifier,answers:e.answers}),{identifier:r}=e;await N.invalidateQueries({queryKey:u.Q.getKey({nodeSlug:h})}),N.setQueriesData({queryKey:u.Q.getKey({nodeSlug:h})},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,lessonGroups:e.lessonGroups.map(e=>({...e,lessons:e.lessons.map(e=>e.id===r?{...e,...e.quiz&&{quiz:{...e.quiz,form:{...e.quiz.form,questions:e.quiz.form.questions.map(e=>{var r;return{...e,answer:{isCorrect:!t[e.id].correct,option:{id:t[e.id].answer,title:null===(r=e.options.find(r=>{let o=t[e.id].answer;return r.id===o}))||void 0===r?void 0:r.title}}}})}}}}:e)}))}})},[D,h,N]),Z=(0,n.useCallback)(async e=>{let{answerId:t,lessonId:r,link:o}=e;t?await K({link:o,lessonId:r,nodeSlug:h,id:t}):await H({link:o,lessonId:r,nodeSlug:h}),await N.invalidateQueries({queryKey:u.Q.getKey({nodeSlug:h})})},[H,h,N,K]),J=(0,n.useMemo)(()=>{var e;let t=_.map(e=>e.id);return{jupiterVideoId:null===(e=Q.video)||void 0===e?void 0:e.jupiterVideoId,lessonGroupIds:t.length>0?t:void 0,journeyNodeId:null==T?void 0:T.id,journeyId:null==M?void 0:M.id}},[null===(t=Q.video)||void 0===t?void 0:t.jupiterVideoId,null==M?void 0:M.id,null==T?void 0:T.id,_]),X=(null==F?void 0:F.status)==="FINISHED",W=(null==V?void 0:V.watchedLessonsCount)||0;return I?(0,o.jsx)(tT.I,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Classroom,{data:{watchedLessonsCount:W,isJourneyFinished:X,currentLesson:Q,lessonGroups:_,journeyNode:T,journey:M,forum:L,user:w},onToggleWatched:B,onSubmitQuiz:Y,onSubmitChallenge:Z,components:{BenefitsBanner:E}}),!j&&(0,o.jsxs)(P.f,{children:[(0,o.jsx)("div",{className:"[&>div>button]:relative [&>div>button]:right-0 -mb-3",children:(0,o.jsx)(tM,{videoId:null===(r=Q.video)||void 0===r?void 0:r.jupiterVideoId,chatContext:J})}),(0,o.jsx)(tL.q,{identifier:"classroom",title:C?"Conhe\xe7a a sala de aula":"Veja o que mudou na sala de aula",description:C?"Explore a sala de aula e saiba como acompanhar o conte\xfado de estudos":"Explore a p\xe1gina e entenda o que muda na sua experi\xeancia de estudos",to:"/classroom/tour?redirect=/classroom/".concat(e.params.path.join("/"))})]})]})}},36922:function(e,t,r){"use strict";r.d(t,{M:function(){return l}});var o=r(14682),n=r(5284),s=r(63395);async function a(e,t){let{slug:r}=e,o=await (0,n._i)("/v2/journeys/".concat(r,"/progress/temp"),t);return(0,s.s)(o)}let l=(e,t)=>(0,o.useQuery)({queryKey:["GetJourneyProgressBySlug",e],queryFn:()=>a(e),...t});l.getKey=e=>["GetJourneyProgressBySlug",e],l.fetcher=(e,t)=>a(e,t)},9225:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});var o=r(91674);let n=(0,r(91911).tv)({base:"flex flex-col items-end fixed z-10",variants:{position:{bottomRight:"bottom-3 right-3",bottomLeft:"bottom-3 left-3",topRight:"top-3 right-3",topLeft:"top-3 left-3"}},defaultVariants:{position:"bottomRight"}}),s=e=>{let{children:t,position:r,...s}=e;return(0,o.jsx)("div",{className:n({position:r}),...s,children:t})}},96185:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var o=r(91674),n=r(78618);let s=()=>(0,o.jsx)("div",{className:"fixed flex justify-center items-center inset-0 text-white",children:(0,o.jsx)(n.default,{src:"/assets/logos/rocketseat-symbol.svg",alt:"Rocketseat",width:58,height:40,className:"motion-safe:animate-rocket-loader"})})},31957:function(e,t,r){"use strict";r.d(t,{q:function(){return u}});var o=r(91674),n=r(86655),s=r(80035),a=r(50333),l=r(77997),i=r(3236),c=r(7346);let d={catalog:"isOnboardedOnCatalog",classroom:"isOnboardedOnClassroom",journey:"isOnboardedOnJourney",navigation:"isOnboardedOnNavigation"},u=e=>{let{title:t,description:r,identifier:u,to:p}=e,{user:f,isRecoveringUserSession:m}=(0,c.aC)(),[x,h]=(0,n.useState)(!0),[g,b]=(0,i._)("@Skylab/".concat(u,"TourTriggerViewed"),0),v=d[u],y=null!=f&&!!f.onboardingPlatform&&v in f.onboardingPlatform&&!!f.onboardingPlatform[v];return((0,n.useEffect)(()=>{b(e=>Math.min(e+1,2))},[b]),m||y||!x||Number(g)>1)?null:(0,o.jsxs)("div",{className:"w-[calc(100vw-40px)] max-w-[328px] flex flex-col items-center gap-6 p-5 pt-6 rounded-md shadow-base bg-gray-800 border border-gray-600 relative",children:[(0,o.jsx)(a.IconButton,{variant:"tertiary",className:"absolute top-2 right-2",onClick:()=>h(!1),children:(0,o.jsx)(s.CloseIcon,{size:16})}),(0,o.jsx)(s.BulbIcon,{size:32,className:"text-new-light"}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,o.jsx)("h4",{className:"text-base font-bold text-gray-100",children:t}),(0,o.jsx)("p",{className:"text-sm text-gray-200",children:r})]}),(0,o.jsx)(l.default,{href:p,prefetch:!1,children:(0,o.jsx)(a.Button,{variant:"secondary",size:"md",className:"w-full",children:"Fazer tour"})})]})}},63395:function(e,t,r){"use strict";r.d(t,{s:function(){return s}});var o=r(69673),n=r.n(o);function s(e,t){return n()(e,{deep:!0,...t})}},69379:function(e,t,r){"use strict";function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"https://ui-avatars.com/api/?size=".concat(t?512:128,"&background=9956F6&color=fff&name=").concat(encodeURIComponent(e||""))}r.d(t,{o:function(){return o}})}},function(e){e.O(0,[1203,7120,1112,599,5955,5136,2586,1898,3040,7229,4455,9e3,4682,2608,3236,1501,4791,9584,6315,2173,441,6998,3956,9356,4571,2632,35,333,1153,3927,1293,9997,1744],function(){return e(e.s=8204)}),_N_E=e.O()}]);