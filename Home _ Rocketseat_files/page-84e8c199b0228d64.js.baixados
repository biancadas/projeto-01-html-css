(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2264],{70267:function(e,t,s){Promise.resolve().then(s.bind(s,25255)),Promise.resolve().then(s.t.bind(s,5136,23)),Promise.resolve().then(s.t.bind(s,43040,23)),Promise.resolve().then(s.bind(s,80035))},25255:function(e,t,s){"use strict";s.r(t),s.d(t,{Form:function(){return w}});var a=s(91674),l=s(86655),r=s(50333),n=s(99206),i=s(77997),o=s(54603),u=s(72816),c=s(68444),d=s(14682),m=s(5284);async function f(e,t){return await (0,m._i)("/account/unblock?key=".concat(e.key),t)}let h=(e,t)=>(0,d.useQuery)({queryKey:["GetUnblockedAccountEmail",e],queryFn:()=>f(e),...t});h.getKey=e=>["GetUnblockedAccountEmail",e],h.fetcher=(e,t)=>f(e,t);var g=s(10243),p=s(84909),v=s(7346),x=s(30558),y=s(77227);let b=c.z.object({email:c.z.string().email("E-mail inv\xe1lido"),password:c.z.string().min(4,"Senha deve ter ao menos 4 caracteres")}),w=()=>{var e,t;let s=(0,o.useRouter)(),c=(0,o.useSearchParams)(),{signIn:d,recoverUserSession:m}=(0,v.aC)(),f=null==c?void 0:c.get("email"),w=null==c?void 0:c.get("key"),k=null==c?void 0:c.get("to"),{handleSubmit:j,register:E,setValue:N,setFocus:F,formState:{errors:S,isSubmitting:_}}=(0,u.cI)({resolver:(0,n.F)(b),defaultValues:{email:null!=f?f:""},mode:"onSubmit"}),{data:z,isSuccess:I,isError:P}=h({key:w},{enabled:!!w}),C=async e=>{p.H.track("Login (https://app.rocketseat.com.br/)",{$email:e.email});try{if(await d(e.email,e.password),k){s.push(k);return}let{userActiveEvent:t}=await (0,g.i)();if(null==t?void 0:t.slug){s.push("/events/".concat(null==t?void 0:t.slug));return}await m(),s.push("/home")}catch(e){}};return(0,l.useEffect)(()=>{I&&(null==z?void 0:z.email)&&(N("email",z.email),N("password",""),F("password"),r.toast.success({title:"Conta desbloqueada com sucesso!"}))},[I,null==z?void 0:z.email,N,F]),(0,l.useEffect)(()=>{P&&r.toast.danger({title:"Token inv\xe1lido!"})},[P]),(0,a.jsxs)("form",{className:"flex flex-col gap-6",onSubmit:j(C),children:[(0,a.jsxs)(x.g,{errorMessage:null==S?void 0:null===(e=S.email)||void 0===e?void 0:e.message,children:[(0,a.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,a.jsx)(r.TextField,{type:"email",placeholder:"Seu e-mail",...!f&&{autoFocus:!0},...E("email"),error:!!S.email})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(x.g,{errorMessage:null==S?void 0:null===(t=S.password)||void 0===t?void 0:t.message,children:[(0,a.jsx)("label",{htmlFor:"password",children:"Senha"}),(0,a.jsx)(y.Z,{placeholder:"Sua senha",...f&&{autoFocus:!0},...E("password"),error:!!S.password})]}),(0,a.jsx)(i.default,{href:"/forgot",className:"text-sm font-medium text-purpleseat-light hover:brightness-125 transition",children:"Esqueci minha senha"})]}),(0,a.jsx)(r.Button,{type:"submit",size:"lg",loading:_,disabled:_,children:"Entrar"})]})}},30558:function(e,t,s){"use strict";s.d(t,{g:function(){return l}});var a=s(91674);let l=e=>{let{errorMessage:t,children:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2 [&>label]:text-sm [&>label]:text-gray-200",children:[s,t&&(0,a.jsx)("span",{className:"text-sm text-danger-base",children:t})]})}},77227:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(91674),l=s(86655),r=s(80035),n=s(50333);let i=(0,l.forwardRef)((e,t)=>{let[s,i]=(0,l.useState)(!1);return(0,a.jsx)(n.TextField,{...e,ref:t,type:s?"text":"password",rightIcon:(0,a.jsx)("button",{type:"button",onClick:()=>i(!s),children:s?(0,a.jsx)(r.EyeOffIcon,{size:24,className:"text-gray-500"}):(0,a.jsx)(r.EyeIcon,{size:24,className:"text-gray-500"})})})});i.displayName="PasswordField"},84909:function(e,t,s){"use strict";s.d(t,{H:function(){return r}});var a=s(99e3),l=s(44434);let r={track:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.I.track(e,{...t,Date:(0,a.Z)(new Date,"dd/MM/yyyy"),Hour:(0,a.Z)(new Date,"HH:mm")})},pageView:e=>{l.I.track_pageview({page:e})}}},77997:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var a=s(43040),l=s.n(a)}},function(e){e.O(0,[1203,7120,1112,5955,5136,2586,1898,3040,7229,4455,9e3,4682,1501,7314,35,333,7559,1293,9997,1744],function(){return e(e.s=70267)}),_N_E=e.O()}]);